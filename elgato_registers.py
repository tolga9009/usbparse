
shared_registers= \
{
  "ENABLE_REGISTER" : [0xbc, 0x0900, 0x0018],
  "MAIL_SEND_ENABLE_REGISTER_STATE" : [0xbc, 0x0900, 0x0014],
  "MAIL_REQUEST_READY" : [0xbc, 0x0900, 0x001c],
  "SCMD_REGISTER" : [0xb8, 0x0000, 0x0000],
  "SCMD_STATE_READBACK_REGISTER" : [0xbc, 0x0800, 0x2008],
  "SCMD_STATE_CHANGE_COMPLETE" : [0xbc, 0x0900, 0x0074],
  "HDNEW_VERSION_REGISTER0" : [0xbc, 0x0800, 0x0094], #Shared because read to check for zero on HD
  "HDNEW_VERSION_REGISTER1" : [0xbc, 0x0800, 0x0098], #Shared because read to check for zero on HD
  "BANKSEL" : [0xbc, 0x0900, 0x0000], #The name is from the script file, it isn't mine.
  "SEND_H264_TRANSCODER_WORD" : [0xbc, 0x0000, (0xf000, 0x1000)], #That end is a mask to make sure the first digit is 1
  "SEND_H264_TRANSCODER_BITFIELD" : [0xbc, 0x0001, (0xf000, 0x1000)], #Mask again 
}

HD_specific_registers= \
{
  "HD_VERSION_REGISTER0" : [0xbc, 0x0800, 0x0010],
  "HD_VERSION_REGISTER1" : [0xbc, 0x0800, 0x0014],
  "HD_VERSION_REGISTER2" : [0xbc, 0x0800, 0x0018],
  "HD_MAIL_REGISTER" : [0xbd, 0x0000]
}

HDNew_specific_registers= \
{
  "HDNEW_VERSION_REGISTER2" : [0xbc, 0x0800, 0x009c],
  "HDNEW_INTERRUPT_STATUS" : [0xbc, 0x0800, 0x0016],
  "HDNEW_MAIL_READ" : [0xbc, 0x0800, 0x23be],
  "HDNEW_MAIL_WRITE" : [0xbc, 0x0800, 0x00c0],
  "HDNEW_MAIL_REQUEST_CONFIGURE" : [0xb9, 0x0000, 0x0000],
  "HDNEW_SCMD_READBACK_REGISTER" : [0xbc, 0x0800, 0x0014],
}

#known bit fields for the transcoder.
#We have names but not their meaning, as gotten 
#from a log dump.
# name, address, lsb, bitLength
transcoder_bit_fields= \
{
                         "v_vinpelclk" : [0x1002, 1, 1],
                            "stoutclk" : [0x1004, 0, 7],
                         "stoutclk_io" : [0x1004, 7, 1],
                         "dma_sel_out" : [0x1004, 8, 2],
                         "stoutclk_hl" : [0x1004, 10, 1],
                   "tsout_packet_size" : [0x1004, 11, 2],
                      "extra_info_bit" : [0x1004, 13, 2],
                          "stout_mode" : [0x1004, 15, 1],
                        "stout2clk_io" : [0x1006, 7, 1],
                        "stout2clk_hl" : [0x1006, 10, 1],
                         "stout2_mode" : [0x1006, 15, 1],
                      "v_ts_out2_mode" : [0x100a, 0, 4],
                       "v_ts_out_mode" : [0x100a, 4, 4],
                      "a_ts_out2_mode" : [0x100c, 0, 4],
                       "a_ts_out_mode" : [0x100c, 4, 4],
                             "a2_mode" : [0x100c, 8, 4],
                              "a_mode" : [0x100c, 12, 4],
                           "auto_null" : [0x1102, 0, 2],
                           "pcr_first" : [0x1102, 2, 1],
                         "system_rate" : [0x1104, 0, 16],
                     "system_min_rate" : [0x1106, 0, 16],
                "initial_time_stamp_h" : [0x1108, 0, 16],
                "initial_time_stamp_l" : [0x110a, 0, 16],
                       "initial_stc_h" : [0x110c, 0, 16],
                       "initial_stc_l" : [0x110e, 0, 16],
                     "initial_stc_ext" : [0x1110, 0, 9],
                      "initial_stc_ll" : [0x1110, 15, 1],
                           "v_pid_out" : [0x1126, 0, 13],
                           "a_pid_out" : [0x1128, 0, 13],
                         "pmt_pid_out" : [0x112c, 0, 13],
                         "pcr_pid_out" : [0x112e, 0, 13],
                           "v_sid_out" : [0x1130, 0, 8],
                           "a_sid_out" : [0x1132, 0, 8],
                         "sit_pid_out" : [0x1134, 0, 13],
                          "pmt_length" : [0x1138, 0, 8],
                          "pat_length" : [0x1138, 8, 8],
                             "pat_cyc" : [0x113c, 0, 8],
                             "pmt_cyc" : [0x113e, 0, 8],
                          "sit_length" : [0x113e, 8, 8],
                             "pcr_cyc" : [0x1140, 0, 8],
                             "sit_cyc" : [0x1142, 0, 10],
                   "auto_null_ts_out2" : [0x1242, 0, 2],
                   "pcr_first_ts_out2" : [0x1242, 2, 1],
                 "system_rate_ts_out2" : [0x1244, 0, 16],
             "system_min_rate_ts_out2" : [0x1246, 0, 16],
        "initial_time_stamp_h_ts_out2" : [0x1248, 0, 16],
        "initial_time_stamp_l_ts_out2" : [0x124a, 0, 16],
               "initial_stc_h_ts_out2" : [0x124c, 0, 16],
               "initial_stc_l_ts_out2" : [0x124e, 0, 16],
             "initial_stc_ext_ts_out2" : [0x1250, 0, 9],
              "initial_stc_ll_ts_out2" : [0x1250, 15, 1],
                   "v_pid_out_ts_out2" : [0x1266, 0, 13],
                   "a_pid_out_ts_out2" : [0x1268, 0, 13],
           "thumbnail_pid_out_ts_out2" : [0x126a, 0, 13],
                 "pmt_pid_out_ts_out2" : [0x126c, 0, 13],
                 "pcr_pid_out_ts_out2" : [0x126e, 0, 13],
                   "v_sid_out_ts_out2" : [0x1270, 0, 8],
                   "a_sid_out_ts_out2" : [0x1272, 0, 8],
                 "sit_pid_out_ts_out2" : [0x1274, 0, 13],
                  "pmt_length_ts_out2" : [0x1278, 0, 8],
                  "pat_length_ts_out2" : [0x1278, 8, 8],
                     "pat_cyc_ts_out2" : [0x127c, 0, 8],
                     "pmt_cyc_ts_out2" : [0x127e, 0, 8],
                  "sit_length_ts_out2" : [0x127e, 8, 8],
                     "pcr_cyc_ts_out2" : [0x1280, 0, 8],
                     "sit_cyc_ts_out2" : [0x1282, 0, 10],
                            "v_format" : [0x1502, 0, 8],
                            "vin_swap" : [0x1502, 10, 1],
                               "tfrff" : [0x1504, 0, 2],
                         "v_rate_mode" : [0x1510, 0, 2],
                            "v_filler" : [0x1510, 2, 1],
                          "v_vlc_mode" : [0x1510, 3, 1],
                "v_temporal_direct_on" : [0x1510, 4, 1],
                            "v_cl_gop" : [0x1510, 5, 1],
                               "v_eos" : [0x1510, 8, 2],
                         "v_ip_format" : [0x1512, 8, 7],
                        "v_gop_struct" : [0x1518, 0, 8],
                          "v_gop_size" : [0x1518, 8, 8],
                    "v_idr_interval_h" : [0x151a, 0, 16],
                    "v_idr_interval_l" : [0x151c, 0, 16],
                        "v_h264_level" : [0x1526, 0, 8],
                      "v_h264_profile" : [0x1526, 8, 8],
                         "v_hsize_out" : [0x152c, 0, 16],
                         "v_vsize_out" : [0x152e, 0, 16],
                           "v_bitrate" : [0x1532, 0, 16],
                       "v_max_bitrate" : [0x1534, 0, 16],
                       "v_ave_bitrate" : [0x1536, 0, 16],
                       "v_min_bitrate" : [0x1538, 0, 16],
                     "error_rate_ppic" : [0x1552, 0, 8],
                     "error_rate_ipic" : [0x1552, 8, 8],
                     "error_rate_bpic" : [0x1554, 0, 8],
                   "error_rate_refpic" : [0x1554, 8, 8],
                  "v_error_level_th_h" : [0x1556, 0, 16],
                  "v_error_level_th_l" : [0x1558, 0, 16],
           "insert_recovery_point_sei" : [0x1570, 11, 1],
                   "insert_pic_struct" : [0x1570, 14, 1],
               "insert_buf_ctrl_param" : [0x1570, 15, 1],
                  "insert_restriction" : [0x157c, 11, 1],
           "overscan_appropriate_flag" : [0x157c, 14, 1],
          "overscan_info_present_flag" : [0x157c, 15, 1],
               "video_full_range_flag" : [0x157e, 0, 1],
                        "video_format" : [0x157e, 4, 3],
      "video_signal_type_present_flag" : [0x157e, 12, 1],
                    "colour_primaries" : [0x1580, 0, 8],
     "colour_description_present_flag" : [0x1580, 12, 1],
                 "matrix_coefficients" : [0x1582, 0, 8],
            "transfer_characteristics" : [0x1582, 8, 8],
                        "time_scale_h" : [0x1584, 0, 16],
                        "time_scale_l" : [0x1586, 0, 16],
                   "num_units_in_tick" : [0x1588, 0, 16],
                      "v_rate_mode_bl" : [0x1610, 0, 2],
                         "v_filler_bl" : [0x1610, 2, 1],
                       "v_vlc_mode_bl" : [0x1610, 3, 1],
                         "v_cl_gop_bl" : [0x1610, 5, 1],
                            "v_eos_bl" : [0x1610, 8, 2],
                     "v_gop_struct_bl" : [0x1618, 0, 8],
                       "v_gop_size_bl" : [0x1618, 8, 8],
                 "v_idr_interval_h_bl" : [0x161a, 0, 16],
                 "v_idr_interval_l_bl" : [0x161c, 0, 16],
                     "v_h264_level_bl" : [0x1626, 0, 8],
                   "v_h264_profile_bl" : [0x1626, 8, 8],
                      "v_hsize_out_bl" : [0x162c, 0, 16],
                      "v_vsize_out_bl" : [0x162e, 0, 16],
                        "v_bitrate_bl" : [0x1632, 0, 16],
                    "v_max_bitrate_bl" : [0x1634, 0, 16],
                    "v_ave_bitrate_bl" : [0x1636, 0, 16],
                    "v_min_bitrate_bl" : [0x1638, 0, 16],
        "insert_recovery_point_sei_bl" : [0x1670, 11, 1],
                "insert_pic_struct_bl" : [0x1670, 14, 1],
            "insert_buf_ctrl_param_bl" : [0x1670, 15, 1],
               "insert_restriction_bl" : [0x167c, 11, 1],
        "overscan_appropriate_flag_bl" : [0x167c, 14, 1],
       "overscan_info_present_flag_bl" : [0x167c, 15, 1],
            "video_full_range_flag_bl" : [0x167e, 0, 1],
                     "video_format_bl" : [0x167e, 4, 3],
   "video_signal_type_present_flag_bl" : [0x167e, 12, 1],
                 "colour_primaries_bl" : [0x1680, 0, 8],
  "colour_description_present_flag_bl" : [0x1680, 12, 1],
              "matrix_coefficients_bl" : [0x1682, 0, 8],
         "transfer_characteristics_bl" : [0x1682, 8, 8],
                     "time_scale_h_bl" : [0x1684, 0, 16],
                     "time_scale_l_bl" : [0x1686, 0, 16],
                "num_units_in_tick_bl" : [0x1688, 0, 16],
                              "v_v420" : [0x1710, 12, 2],
                            "a_sample" : [0x1a02, 0, 2],
                           "a_bitrate" : [0x1a04, 0, 16],
                             "ach_sel" : [0x1a06, 0, 1],
                          "ain_master" : [0x1a08, 0, 1],
                       "ain_lsb_first" : [0x1a08, 1, 1],
                        "ain_bit_posb" : [0x1a08, 2, 1],
                           "amck_mode" : [0x1a08, 3, 1],
                         "ain_dlength" : [0x1a08, 4, 2],
                        "ain_lr_hlset" : [0x1a08, 6, 1],
                             "ain_i2s" : [0x1a08, 7, 1],
                       "ain_lrclk_sel" : [0x1a08, 8, 3],
                        "ain_sclk_sel" : [0x1a08, 11, 2],
                        "ain_bclk_sel" : [0x1a08, 13, 1],
                         "ain_bclk_hl" : [0x1a08, 14, 1],
                    "asin_offset_mode" : [0x1a08, 15, 1],
                         "asin_offset" : [0x1a0c, 0, 16],
                      "e_mpeg_protect" : [0x1a16, 0, 1],
                         "e_mpeg_mode" : [0x1a16, 1, 2],
                        "e_mpeg_copyr" : [0x1a16, 3, 1],
                         "e_mpeg_orig" : [0x1a16, 4, 1],
                          "e_mpeg_emp" : [0x1a16, 5, 2],
                   "e_aac_protect_abs" : [0x1a1c, 0, 1],
                       "e_aac_profile" : [0x1a1c, 1, 2],
                     "e_aac_ch_config" : [0x1a1c, 3, 2],
                          "e_aac_orig" : [0x1a1c, 5, 1],
                           "e_aac_pce" : [0x1a1c, 8, 2],
                 "e_aac_header_format" : [0x1a1c, 11, 2],
                         "e_aac_mpeg4" : [0x1a1c, 13, 1],
                   "e_aac_max_bitrate" : [0x1a1e, 0, 16],
                  "e2_aac_protect_abs" : [0x1a3c, 0, 1],
                      "e2_aac_profile" : [0x1a3c, 1, 2],
                    "e2_aac_ch_config" : [0x1a3c, 3, 2],
                         "e2_aac_orig" : [0x1a3c, 5, 1],
                          "e2_aac_pce" : [0x1a3c, 8, 2],
                "e2_aac_header_format" : [0x1a3c, 11, 2],
                        "e2_aac_mpeg4" : [0x1a3c, 13, 1],
                           "lch_scale" : [0x1a64, 0, 16],
                           "rch_scale" : [0x1a66, 0, 16],
                          "lsch_scale" : [0x1a68, 0, 16],
                          "rsch_scale" : [0x1a6a, 0, 16],
                           "cch_scale" : [0x1a6c, 0, 16],
                         "lfech_scale" : [0x1a6e, 0, 16],
}

HD_registers={}
HD_registers.update(shared_registers)
HD_registers.update(HD_specific_registers)

HDNew_registers={}
HDNew_registers.update(shared_registers)
HDNew_registers.update(HDNew_specific_registers)


